[인프런 김영한님 강의 - 스프링_고급](https://www.inflearn.com/course/%EC%8A%A4%ED%94%84%EB%A7%81-%ED%95%B5%EC%8B%AC-%EC%9B%90%EB%A6%AC-%EA%B3%A0%EA%B8%89%ED%8E%B8/dashboard)



# 09 스프링 AOP 개념



## 09-1 부가 기능의 중복

애플리케이션 로직은 크게 핵심기능과 부가 기능으로 나눌 수 있다. 로그 추적, 트랜잭션 등의 기능은 핵심 기능이 아닌 부가 기능이다. 이 부가 기능이 어플리케이션에 적용될 떄 여러가지 문제가 있다.

+ 아주 많은 반복의 발생

+ 중복 코드 생성

+ 많은 수정 필요



아마 과거 개발자들은 이런 생각을 했을 것같다. 핵심 로직과는 아예 분리되는 환경에서 부가기능 만 따로 적용하고 이것들만 따로 처리 할 수 없을 까?



<br>

## 09-2 AOP 소개

#### AOP 란?

AOP : Aspect-Oriented-Programming

앞에서 Aspect를 배웠다. Aspect의 한국어로 관점이라는 뜻이고, AOP는 관점 지향 프로그래밍이라고도 표현한다. 사실 뜻 자체는 딱히 의미 있지 않다.

의미를 한마디로 표현하면, Aspect 를 활용한 프로그래밍 정도로 표현 할 수 있다.

> AOP 는 OOP를 대체하기 위한 것이 아니고, 횡단 관심사(Cross-cutting Concerns)를 깔끔하게 처리하기위해 OOP를 보완 하는 차원에서 개발 되었다.



#### AOP 의 적용

AOP 의 구현으로 AsepctJ 프레임워크가 있다. 실제로는 AspectJ는 설정의 어려움, JVM성능 때문에 자체로는 사용되지 않는다. 스프링은 일부 문법을 차용할 뿐이다.

##### AOP 적용 방식

+ 컴파일 시점

+ 클래스 로딩 시점

+ 런타임시점 (프록시)

컴파일 시점, 클래스 로딩시점은 프록시를 사용하지 않고, 실제 코드에 위빙(weaving) 작업이 들어간다. 즉, 실제코드 주위로 부가 로직들을 실제로 추가 하는 것이다. 

이렇게 하면 뒤에서 배울 프록시의 문제점들을 모두 해결할 수 있다. 가장 확실한 방법이기 때문이다.

다만, AspectJ를 직접 사용해야한다.

<br>



## 09-3 AOP 용어 정리

이미 앞에서 용어들을 어느 정도 배우면서 넘어왔다. 여기서 확실히 정리 하기로 하자.

#### 조인 포인트(Join Point)

+ 어드바이스가 적용될수 있는 위치.

+ AOP를 적용할 수 있는 모든 지점

+ 스프링 AOP는 프록시 방식을 사용하므로 메소드 실행 지점으로 제한됨.

#### 포인트컷 (PointCut)

+ 조인 포인트 중에서 어드바이스가 적용될 위치를 선별하는 기능

+ 주로 AspectJ 표현식을 사용해서 지정

+ 스프링 AOP는 프록시를 사용하기 때문에 메서드 실행지점만 포인트컷으로 선별 가능하다.

#### 타겟 (Target)

+ 어드바이스를 받는 객체

#### 어드바이스(Advice)

+ 부가 기능

+ 특정 조인포인트에서, Aspect에의해 취해지는 조치

+ Around Before After 등의 여러 종류가 있음

#### 애스펙트(Aspect)

+ 어드바이스 _ 포인트컷 의 모듈화






